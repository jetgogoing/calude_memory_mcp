{
  "test_timestamp": "2025-07-07T14:43:34.380298",
  "test_summary": {
    "concurrent_search_qps": 137046.36497304362,
    "search_success_rate": 1.0,
    "avg_response_time_ms": 0.002900362014770508,
    "cache_speedup": 1.0782238285788046,
    "mixed_workload_qps": 120.15634908984873,
    "system_health": "healthy"
  },
  "detailed_results": {
    "test_config": {
      "database": {
        "url": "sqlite:///test_concurrent_memory.db"
      },
      "vector_store": {
        "url": "http://localhost:6333",
        "collection_name": "test_memories",
        "vector_size": 384
      },
      "concurrency": {
        "max_connections": 20,
        "cache_size": 2000,
        "cache_ttl": 300.0,
        "max_workers": 8
      },
      "memory": {
        "cross_project_sharing": true,
        "project_isolation": false,
        "retention_days": 365
      }
    },
    "data_setup": {
      "num_conversations": 200
    },
    "concurrent_search": {
      "total_queries": 200,
      "successful_queries": 200,
      "failed_queries": 0,
      "success_rate": 1.0,
      "total_time": 0.001459360122680664,
      "queries_per_second": 137046.36497304362,
      "avg_duration": 2.9003620147705076e-06,
      "median_duration": 2.6226043701171875e-06,
      "min_duration": 2.1457672119140625e-06,
      "max_duration": 3.0994415283203125e-05,
      "avg_result_count": 9,
      "errors": []
    },
    "mixed_workload": {
      "search_requests": 2980,
      "recent_requests": 745,
      "total_requests": 3725,
      "errors": 0,
      "cache_hits": 0,
      "cache_misses": 0,
      "duration": 31.001274824142456,
      "total_qps": 120.15634908984873,
      "error_rate": 0.0
    },
    "cache_performance": {
      "avg_uncached_time": 0.0003983020782470703,
      "avg_cached_time": 0.00036940574645996096,
      "cache_speedup": 1.0782238285788046,
      "first_round_times": [
        0.0005905628204345703,
        0.0003783702850341797,
        0.0003771781921386719,
        0.0003104209899902344,
        0.0003349781036376953
      ],
      "second_round_times": [
        0.0003635883331298828,
        0.0003733634948730469,
        0.00037598609924316406,
        0.0003752708435058594,
        0.00035881996154785156
      ]
    },
    "connection_pool": {
      "5": {
        "duration": 0.0018315315246582031,
        "success_count": 5,
        "success_rate": 1.0,
        "requests_per_second": 2729.955740692528
      },
      "10": {
        "duration": 0.00011706352233886719,
        "success_count": 10,
        "success_rate": 1.0,
        "requests_per_second": 85423.7067209776
      },
      "20": {
        "duration": 0.0001308917999267578,
        "success_count": 20,
        "success_rate": 1.0,
        "requests_per_second": 152797.95992714027
      },
      "50": {
        "duration": 0.00033664703369140625,
        "success_count": 50,
        "success_rate": 1.0,
        "requests_per_second": 148523.51274787536
      }
    },
    "system_stats": {
      "concurrent_stats": {
        "total_requests": 4221,
        "concurrent_requests": 4151,
        "max_concurrent": 4151,
        "avg_response_time": 0.05989755989122913,
        "error_count": 0
      },
      "cache_stats": {
        "hits": 4151,
        "misses": 64,
        "evictions": 0,
        "hit_rate": 0.9848161328588375,
        "cache_size": 22,
        "max_size": 2000
      },
      "connection_pool": {
        "total_connections": 3,
        "max_connections": 20,
        "queue_size": 3
      },
      "batch_queue_size": 0
    },
    "health_check": {
      "status": "healthy",
      "timestamp": "2025-07-07T14:43:34.380153",
      "checks": {
        "database": {
          "status": "ok"
        },
        "cache": {
          "status": "ok"
        }
      },
      "performance": {
        "concurrent_stats": {
          "total_requests": 4221,
          "concurrent_requests": 4151,
          "max_concurrent": 4151,
          "avg_response_time": 0.05989755989122913,
          "error_count": 0
        },
        "cache_stats": {
          "hits": 4152,
          "misses": 64,
          "evictions": 0,
          "hit_rate": 0.9848197343453511,
          "cache_size": 23,
          "max_size": 2000
        },
        "connection_pool": {
          "total_connections": 3,
          "max_connections": 20,
          "queue_size": 3
        },
        "batch_queue_size": 0
      }
    }
  }
}